import{_ as w,o as n,c as s,a as l,t as c,e as m,r as g,d as _,F as i,b as u,w as k,v as x,h as v,j as d,k as P,n as C}from"./index-pDs4hZ2Z.js";const D=""+new URL("cloud-WZaOvWHv.gif",import.meta.url).href,T=""+new URL("rain-3hHzvgUO.gif",import.meta.url).href,b=""+new URL("sun-jPTuWHDi.gif",import.meta.url).href,B=""+new URL("Sunnycloudy-qQjZgaGn.gif",import.meta.url).href,E=""+new URL("thunderstorm-KLibgoHw.gif",import.meta.url).href,N={props:{weatherPlace:{type:Object}},methods:{weatherImage(t){const a=parseInt(t);let e="";return a<=20?e=b:a<=40?e=B:a<=60?e=D:a<=70?e=T:a<=90&&(e=E),e}}},U={class:"w-full"},A=["src"],j={class:"flex flex-col justify-center gap-2"},L={class:"text-center"},W=l("br",null,null,-1);function R(t,a,e,p,o,h){return n(),s("div",null,[l("div",U,[l("img",{class:"w-full h-[300px]",src:h.weatherImage(e.weatherPlace.weatherElement[1].time[0].parameter.parameterName),alt:""},null,8,A)]),l("div",j,[l("span",L,c(e.weatherPlace.locationName),1),l("span",null,[m("時間："+c(e.weatherPlace.weatherElement[0].time[0].startTime.split(" ")[0]),1),W,m(" "+c(e.weatherPlace.weatherElement[0].time[0].startTime.split(" ")[1])+"~"+c(e.weatherPlace.weatherElement[0].time[0].endTime.split(" ")[1]),1)]),l("span",null,"舒適度："+c(e.weatherPlace.weatherElement[3].time[0].parameter.parameterName),1),l("span",null,"氣溫："+c(e.weatherPlace.weatherElement[2].time[0].parameter.parameterName)+"~"+c(e.weatherPlace.weatherElement[4].time[0].parameter.parameterName)+" 度",1),l("span",null,"天氣概況："+c(e.weatherPlace.weatherElement[0].time[0].parameter.parameterName),1),l("span",null,"降雨機率："+c(e.weatherPlace.weatherElement[1].time[0].parameter.parameterName)+"%",1)])])}const S=w(N,[["render",R]]),$={data(){return{thisText:"安安 123"}}},F={type:"button",class:"p-3 rounded-md bg-red-800"};function H(t,a,e,p,o,h){return n(),s("button",F,[g(t.$slots,"default")])}const I=w($,[["render",H]]),V={components:{weatherCard:S,WeatherSlot:I},data(){return{weatherData:[],checkDataArray:[],weatherText:"",weatherCheck:!1,place:[{id:"all",place:"全部"},{id:1,place:"北部"},{id:2,place:"中部"},{id:3,place:"南部"},{id:4,place:"離島"}],checkPlace:"all",north:["新北市","新竹縣","新竹市","臺北市","基隆市","桃園市","宜蘭縣"],west:["雲林縣","臺中市","南投縣","彰化縣","苗栗縣"],south:["嘉義縣","嘉義市","臺南市","高雄市","屏東縣","澎湖縣"],east:["花蓮縣","臺東縣"],outlyingIslands:["金門縣","連江縣"]}},mounted(){fetch("https://opendata.cwa.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=CWB-71BFA974-BB32-477B-9B86-9D862699CEB5").then(t=>t.json()).then(t=>{this.weatherData=t.records.location})},computed:{checkData(){return this.weatherData.filter(t=>{if(this.checkPlace==="all")return!0;if(this.checkPlace===1)return this.north.includes(t.locationName)})}},methods:{},watch:{watchText:{handler(){this.watchText.trim()===""&&(this.checkDataArray=[]);const t=this.checkData.filter(a=>this.watchText.includes(a.locationName));this.checkDataArray=t.slice()}}}},z={class:"flex gap-5"},G={key:0,class:"pt-3 w-full flex flex-wrap gap-3 justify-center"},O={key:1,class:"flex"};function M(t,a,e,p,o,h){const y=_("weather-slot"),f=_("weatherCard");return n(),s(i,null,[l("div",z,[(n(!0),s(i,null,u(o.place,r=>(n(),d(y,{key:r.id,class:C({" bg-warmGray-400  text-warmGray-900":o.checkPlace==r.id}),onClick:Z=>o.checkPlace=r.id},{default:P(()=>[m(c(r.place),1)]),_:2},1032,["class","onClick"]))),128)),k(l("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>t.from[0].weatherText=r),type:"text"},null,512),[[x,t.from[0].weatherText]]),k(l("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>t.from[0].weatherCheck=r),type:"checkbox"},null,512),[[v,t.from[0].weatherCheck]]),m(c(t.from[0].weatherCheck),1)]),o.checkDataArray.length===0?(n(),s("div",G,[(n(!0),s(i,null,u(h.checkData,r=>(n(),d(f,{key:r.id,class:"w-[20%] mb-5","weather-place":r},null,8,["weather-place"]))),128))])):(n(),s("div",O,[(n(!0),s(i,null,u(o.checkDataArray,r=>(n(),d(f,{key:r.id,"weather-place":r},null,8,["weather-place"]))),128))]))],64)}const K=w(V,[["render",M]]);export{K as default};
