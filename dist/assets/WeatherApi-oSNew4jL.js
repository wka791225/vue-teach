import{_ as w,o as l,c,a as s,t as n,e as u,r as g,d as _,F as i,b as m,w as k,v as x,h as v,j as d,k as P,n as C}from"./index-opTM6vrt.js";const D="/assets/cloud-WZaOvWHv.gif",T="/assets/rain-3hHzvgUO.gif",b="/assets/sun-jPTuWHDi.gif",B="/assets/Sunnycloudy-qQjZgaGn.gif",E="/assets/thunderstorm-KLibgoHw.gif",N={props:{weatherPlace:{type:Object}},methods:{weatherImage(t){const a=parseInt(t);let e="";return a<=20?e=b:a<=40?e=B:a<=60?e=D:a<=70?e=T:a<=90&&(e=E),e}}},A={class:"w-full"},j=["src"],W={class:"flex flex-col justify-center gap-2"},S={class:"text-center"},$=s("br",null,null,-1);function F(t,a,e,p,o,h){return l(),c("div",null,[s("div",A,[s("img",{class:"w-full h-[300px]",src:h.weatherImage(e.weatherPlace.weatherElement[1].time[0].parameter.parameterName),alt:""},null,8,j)]),s("div",W,[s("span",S,n(e.weatherPlace.locationName),1),s("span",null,[u("時間："+n(e.weatherPlace.weatherElement[0].time[0].startTime.split(" ")[0]),1),$,u(" "+n(e.weatherPlace.weatherElement[0].time[0].startTime.split(" ")[1])+"~"+n(e.weatherPlace.weatherElement[0].time[0].endTime.split(" ")[1]),1)]),s("span",null,"舒適度："+n(e.weatherPlace.weatherElement[3].time[0].parameter.parameterName),1),s("span",null,"氣溫："+n(e.weatherPlace.weatherElement[2].time[0].parameter.parameterName)+"~"+n(e.weatherPlace.weatherElement[4].time[0].parameter.parameterName)+" 度",1),s("span",null,"天氣概況："+n(e.weatherPlace.weatherElement[0].time[0].parameter.parameterName),1),s("span",null,"降雨機率："+n(e.weatherPlace.weatherElement[1].time[0].parameter.parameterName)+"%",1)])])}const H=w(N,[["render",F]]),I={data(){return{thisText:"安安 123"}}},U={type:"button",class:"p-3 rounded-md bg-red-800"};function V(t,a,e,p,o,h){return l(),c("button",U,[g(t.$slots,"default")])}const z=w(I,[["render",V]]),G={components:{weatherCard:H,WeatherSlot:z},data(){return{weatherData:[],checkDataArray:[],weatherText:"",weatherCheck:!1,place:[{id:"all",place:"全部"},{id:1,place:"北部"},{id:2,place:"中部"},{id:3,place:"南部"},{id:4,place:"離島"}],checkPlace:"all",north:["新北市","新竹縣","新竹市","臺北市","基隆市","桃園市","宜蘭縣"],west:["雲林縣","臺中市","南投縣","彰化縣","苗栗縣"],south:["嘉義縣","嘉義市","臺南市","高雄市","屏東縣","澎湖縣"],east:["花蓮縣","臺東縣"],outlyingIslands:["金門縣","連江縣"]}},mounted(){fetch("https://opendata.cwa.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=CWB-71BFA974-BB32-477B-9B86-9D862699CEB5").then(t=>t.json()).then(t=>{this.weatherData=t.records.location})},computed:{checkData(){return this.weatherData.filter(t=>{if(this.checkPlace==="all")return!0;if(this.checkPlace===1)return this.north.includes(t.locationName)})}},methods:{},watch:{watchText:{handler(){this.watchText.trim()===""&&(this.checkDataArray=[]);const t=this.checkData.filter(a=>this.watchText.includes(a.locationName));this.checkDataArray=t.slice()}}}},O={class:"flex gap-5"},L={key:0,class:"pt-3 w-full flex flex-wrap gap-3 justify-center"},M={key:1,class:"flex"};function Z(t,a,e,p,o,h){const y=_("weather-slot"),f=_("weatherCard");return l(),c(i,null,[s("div",O,[(l(!0),c(i,null,m(o.place,r=>(l(),d(y,{key:r.id,class:C({" bg-warmGray-400  text-warmGray-900":o.checkPlace==r.id}),onClick:q=>o.checkPlace=r.id},{default:P(()=>[u(n(r.place),1)]),_:2},1032,["class","onClick"]))),128)),k(s("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>t.from[0].weatherText=r),type:"text"},null,512),[[x,t.from[0].weatherText]]),k(s("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>t.from[0].weatherCheck=r),type:"checkbox"},null,512),[[v,t.from[0].weatherCheck]]),u(n(t.from[0].weatherCheck),1)]),o.checkDataArray.length===0?(l(),c("div",L,[(l(!0),c(i,null,m(h.checkData,r=>(l(),d(f,{key:r.id,class:"w-[20%] mb-5","weather-place":r},null,8,["weather-place"]))),128))])):(l(),c("div",M,[(l(!0),c(i,null,m(o.checkDataArray,r=>(l(),d(f,{key:r.id,"weather-place":r},null,8,["weather-place"]))),128))]))],64)}const Q=w(G,[["render",Z]]);export{Q as default};
